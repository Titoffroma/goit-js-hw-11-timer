{"version":3,"sources":["webpack:///./js/dateMe.js","webpack:///./js/class.js","webpack:///./js/timer.js"],"names":["time","Date","Math","floor","specs","this","selector","targetDate","element","document","createElement","createTimer","Promise","resolve","reject","timerRef","querySelector","children","length","parseTimerHTML","innerHTML","titleRef","valueRef","querySelectorAll","labelRef","startTimer","timerObj","intervalSet","setInterval","parse","now","textContent","clearInterval","style","fontSize","console","dir","Array","from","map","el","addEventListener","animateTimer","bind","target","remove","classList","add","parentElement","appendChild","setTimeout","startCountdown","then","catch","err","warn","CountdownTimer"],"mappings":"uGAIA,IAAMA,EAAO,IAAIC,KACJC,KAAKC,MAAMH,EAAO,OAOjBE,KAAKC,MAAOH,EAAO,MAAR,MAMZE,KAAKC,MAAOH,EAAO,KAAR,KAMXE,KAAKC,MAAOH,EAAO,IAAe,M,sHCvB7C,WAAYI,GACVC,KAAKC,SAAWF,EAAME,SACtBD,KAAKE,WAAaH,EAAMG,WACxBF,KAAKG,QAAUC,SAASC,cAAc,Q,2BAExCC,YAAA,WAAc,WACZ,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAWN,SAASO,cAAc,EAAKV,UAC7CS,GAAyC,IAA7BA,EAASE,SAASC,OAC1BL,EAAQE,GACRD,EAAO,uC,EAGfK,eAAA,SAAeJ,GASb,OARAA,EAASK,UACP,yaACe,CACfL,SAAUA,EACVM,SAAUZ,SAASO,cAAc,mBACjCM,SAAUb,SAASc,iBAAiB,UACpCC,SAAUf,SAASc,iBAAiB,Y,EAIxCE,WAAA,SAAWC,GAAU,WACDL,GAAiCK,EAA3CX,SAA2CW,EAAjCL,UAAUC,EAAuBI,EAAvBJ,SAAUE,EAAaE,EAAbF,SAEhCG,EAAcC,aAAY,WAC9B,IAAM5B,EAAOC,KAAK4B,MAAM,EAAKtB,YAAcN,KAAK6B,MAEhDR,EAAS,GAAGS,YAAc7B,KAAKC,MAAMH,EAAO,OAC5CsB,EAAS,GAAGS,YAAc7B,KAAKC,MAC5BH,EAAO,MAAR,MAEFsB,EAAS,GAAGS,YAAc7B,KAAKC,MAC5BH,EAAO,KAAR,KAEFsB,EAAS,GAAGS,YAAc7B,KAAKC,MAAOH,EAAO,IAAe,KAE5DwB,EAAS,GAAGO,YAAyC,GAA3BT,EAAS,GAAGS,YAAmB,MAAQ,OACjEP,EAAS,GAAGO,YAAyC,GAA3BT,EAAS,GAAGS,YAAmB,OAAS,QAClEP,EAAS,GAAGO,YACiB,GAA3BT,EAAS,GAAGS,YAAmB,SAAW,UAC5CP,EAAS,GAAGO,YACiB,GAA3BT,EAAS,GAAGS,YAAmB,SAAW,UAGf,GAA3BT,EAAS,GAAGS,aACe,GAA3BT,EAAS,GAAGS,aACe,GAA3BT,EAAS,GAAGS,aACe,GAA3BT,EAAS,GAAGS,cAEZC,cAAcL,GACdN,EAASU,YAAc,oBACvBV,EAASY,MAAMC,SAAW,OAC1BC,QAAQC,IAAIf,EAASY,UAEtB,KACHI,MAAMC,KAAKhB,GAAUiB,KAAI,SAAAC,GAAE,OACzBA,EAAGC,iBAAiB,qBAAsB,EAAKC,aAAaC,KAAK,Q,EAGrED,aAAA,YAAyB,WAAVE,EAAU,EAAVA,OACbvC,KAAKG,QAAQqC,SACbxC,KAAKG,QAAUC,SAASC,cAAc,QACtCL,KAAKG,QAAQuB,YAAca,EAAOb,YAClC1B,KAAKG,QAAQsC,UAAUC,IAAI,QAAS,SACpCH,EAAOI,cAAcC,YAAY5C,KAAKG,SACtC0C,YAAW,WACT,EAAK1C,QAAQsC,UAAUC,IAAI,WAC1B,M,EAELI,eAAA,WACE,OAAO9C,KAAKM,cACTyC,KAAK/C,KAAKc,gBACViC,KAAK/C,KAAKoB,WAAWkB,KAAKtC,OAC1BgD,OAAM,SAAAC,GACLnB,QAAQoB,KAAKD,O,eC5EF,IAAIE,EAAe,CACpClD,SAAU,WACVC,WAAY,IAAIN,KAAK,iBAGZkD,mB","file":"main.66477e1534c9ad80bbbd.js","sourcesContent":["/*\r\n * Оставшиеся дни: делим значение UTC на 1000 * 60 * 60 * 24, количество\r\n * миллисекунд в одном дне (миллисекунды * секунды * минуты * часы)\r\n */\r\nconst time = new Date();\r\nconst days = Math.floor(time / (1000 * 60 * 60 * 24));\r\n\r\n/*\r\n * Оставшиеся часы: получаем остаток от предыдущего расчета с помощью оператора\r\n * остатка % и делим его на количество миллисекунд в одном часе\r\n * (1000 * 60 * 60 = миллисекунды * минуты * секунды)\r\n */\r\nconst hours = Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n\r\n/*\r\n * Оставшиеся минуты: получаем оставшиеся минуты и делим их на количество\r\n * миллисекунд в одной минуте (1000 * 60 = миллисекунды * секунды)\r\n */\r\nconst mins = Math.floor((time % (1000 * 60 * 60)) / (1000 * 60));\r\n\r\n/*\r\n * Оставшиеся секунды: получаем оставшиеся секунды и делим их на количество\r\n * миллисекунд в одной секунде (1000)\r\n */\r\nconst secs = Math.floor((time % (1000 * 60)) / 1000);","export default class {\r\n  constructor(specs) {\r\n    this.selector = specs.selector;\r\n    this.targetDate = specs.targetDate;\r\n    this.element = document.createElement('span');\r\n  }\r\n  createTimer() {\r\n    return new Promise((resolve, reject) => {\r\n      const timerRef = document.querySelector(this.selector);\r\n      timerRef && timerRef.children.length === 0\r\n        ? resolve(timerRef)\r\n        : reject('The timer cannot be found by ID');\r\n    });\r\n  }\r\n  parseTimerHTML(timerRef) {\r\n    timerRef.innerHTML =\r\n      '<div class=\"field\"><span class=\"value\" data - value=\"days\">11</span><span class=\"label\">Days</span></div><div class=\"field\"><span class=\"value\" data-value=\"hours\">11</span><span class=\"label\">Hours</span></div><div class=\"field\"><span class=\"value\" data-value=\"mins\">11</span><span class=\"label\">Minutes</span></div><div class=\"field\"><span class=\"value\" data-value=\"secs\">11</span><span class=\"label\">Seconds</span></div>';\r\n    const timerObj = {\r\n      timerRef: timerRef,\r\n      titleRef: document.querySelector('.new-year-timer'),\r\n      valueRef: document.querySelectorAll('.value'),\r\n      labelRef: document.querySelectorAll('.label'),\r\n    };\r\n    return timerObj;\r\n  }\r\n  startTimer(timerObj) {\r\n    const { timerRef, titleRef, valueRef, labelRef } = timerObj;\r\n\r\n    const intervalSet = setInterval(() => {\r\n      const time = Date.parse(this.targetDate) - Date.now();\r\n\r\n      valueRef[0].textContent = Math.floor(time / (1000 * 60 * 60 * 24));\r\n      valueRef[1].textContent = Math.floor(\r\n        (time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),\r\n      );\r\n      valueRef[2].textContent = Math.floor(\r\n        (time % (1000 * 60 * 60)) / (1000 * 60),\r\n      );\r\n      valueRef[3].textContent = Math.floor((time % (1000 * 60)) / 1000);\r\n\r\n      labelRef[0].textContent = valueRef[0].textContent == 1 ? 'Day' : 'Days';\r\n      labelRef[1].textContent = valueRef[1].textContent == 1 ? 'Hour' : 'Hours';\r\n      labelRef[2].textContent =\r\n        valueRef[2].textContent == 1 ? 'Minute' : 'Minutes';\r\n      labelRef[3].textContent =\r\n        valueRef[3].textContent == 1 ? 'Second' : 'Seconds';\r\n\r\n      if (\r\n        valueRef[0].textContent == 0 &&\r\n        valueRef[3].textContent == 0 &&\r\n        valueRef[3].textContent == 0 &&\r\n        valueRef[3].textContent == 0\r\n      ) {\r\n        clearInterval(intervalSet);\r\n        titleRef.textContent = 'HAPPY NEW YEAR!!!';\r\n        titleRef.style.fontSize = '50px';\r\n        console.dir(titleRef.style);\r\n      }\r\n    }, 1000);\r\n    Array.from(valueRef).map(el =>\r\n      el.addEventListener('DOMSubtreeModified', this.animateTimer.bind(this)),\r\n    );\r\n  }\r\n  animateTimer({ target }) {\r\n    this.element.remove();\r\n    this.element = document.createElement('span');\r\n    this.element.textContent = target.textContent;\r\n    this.element.classList.add('value', 'after');\r\n    target.parentElement.appendChild(this.element);\r\n    setTimeout(() => {\r\n      this.element.classList.add('trans');\r\n    }, 100);\r\n  }\r\n  startCountdown() {\r\n    return this.createTimer()\r\n      .then(this.parseTimerHTML)\r\n      .then(this.startTimer.bind(this))\r\n      .catch(err => {\r\n        console.warn(err);\r\n      });\r\n  }\r\n}\r\n","import CountdownTimer from './class';\r\nimport './dateMe';\r\nconst superTimer = new CountdownTimer({\r\n  selector: '#timer-1',\r\n  targetDate: new Date('Jan 1, 2021'),\r\n});\r\n\r\nsuperTimer.startCountdown();\r\n"],"sourceRoot":""}